rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // TEMPORARY: Open rules for MVP development
    // TODO: Implement proper Auth0 + Firebase custom token authentication
    
    // Canvas collection (including the global document)
    match /canvas/{document} {
      allow read, write: if true;
    }
    
    // Objects subcollection under canvas/global
    match /canvas/global/objects/{objectId} {
      allow read, write: if true;
    }
    
    // Cursors subcollection under canvas/global  
    match /canvas/global/cursors/{userId} {
      allow read, write: if true;
    }
    
    // Comments subcollection under canvas/global
    match /canvas/global/comments/{commentId} {
      allow read, write: if true;
    }
    
    // Users collection - temporarily open for MVP
    match /users/{userId} {
      allow read, write: if true;
    }
  }
}
